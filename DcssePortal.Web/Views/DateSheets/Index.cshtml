@model IEnumerable<DcssePortal.Model.DateSheet>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

<div class="container mt-4" style="color: #566787; background: #f5f5f5; font-family: 'Varela Round', sans-serif; font-size: 15px;">

    <h2 class="pt-3">
        <b>DateSheets</b>
    </h2>
    @if (User.IsInRole("Admin"))
    {
        <a href="@Url.Action("Create")" class="btn btn-success float-right mb-2">
            <i class="fas fa-plus-circle"></i>
            <span>
                <strong>Add New DateSheet</strong>
            </span>
        </a>
    }
    <div class="mt-3 pb-3">
        <table class="table table-bordered table-striped table-hover table-responsive-lg">
            <thead>
                <tr style="background-color:#4DAF51">
                    <th>
                        Datesheet
                    </th>
                    <th>
                        Department
                    </th>
                    @if (User.IsInRole("Admin"))
                    {
                        <th>
                            Actions
                        </th>
                    }
                </tr>
            </thead>

            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            <a href="@Url.Action("Download",new {id=item.ID })">
                                @Html.DisplayFor(modelItem => item.Title)
                                <i class="fas fa-file-pdf" style="font-size:40px"></i>
                            </a>
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Department)
                        </td>
                        @if (User.IsInRole("Admin"))
                        {
                            <td>
                                <a href="@Url.Action("Delete", new { id = item.ID })" class=" " style="font-size:20px; color:red; display:inline-block; margin-right:15px;" data-toggle="tooltip" title="Delete">
                                    <i class="fas fa-trash-alt"></i>
                                </a>
                            </td>
                        }
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

<script>
    $(document).ready(function () {
        $('#myTableName').DataTable();
    });
</script>
